import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { useState } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import { Check, X, ArrowRight, Zap, Trophy, ShieldCheck } from 'lucide-react';
export function SubmissionFlow({ challengeTitle, isOpen, onClose }) {
    const [step, setStep] = useState(1);
    const [isSubmitting, setIsSubmitting] = useState(false);
    const handleNext = () => {
        if (step < 3)
            setStep(step + 1);
        else {
            setIsSubmitting(true);
            setTimeout(() => {
                setIsSubmitting(false);
                setStep(4);
            }, 2000);
        }
    };
    return (_jsx(AnimatePresence, { children: isOpen && (_jsxs("div", { className: "fixed inset-0 z-50 flex items-center justify-center p-4", children: [_jsx(motion.div, { initial: { opacity: 0 }, animate: { opacity: 1 }, exit: { opacity: 0 }, className: "absolute inset-0 bg-[#D8D9DB]/60 backdrop-blur-md", onClick: onClose }), _jsxs(motion.div, { initial: { opacity: 0, scale: 0.95, y: 20 }, animate: { opacity: 1, scale: 1, y: 0 }, exit: { opacity: 0, scale: 0.95, y: 20 }, className: "w-full max-w-2xl bg-white rounded-[3rem] shadow-glass border border-white overflow-hidden relative z-10", children: [_jsx("button", { onClick: onClose, className: "absolute top-8 right-8 text-[#1C1C1E]/20 hover:text-[#1C1C1E] transition-colors", children: _jsx(X, { size: 24 }) }), _jsx("div", { className: "p-12", children: step < 4 ? (_jsxs(_Fragment, { children: [_jsx("div", { className: "flex gap-2 mb-10", children: [1, 2, 3].map(i => (_jsx("div", { className: `h-1 flex-1 rounded-full transition-colors ${i <= step ? 'bg-[#FF6B52]' : 'bg-[#E4E5E7]'}` }, i))) }), _jsxs("header", { className: "mb-10", children: [_jsx("span", { className: "text-[10px] font-bold text-[#FF6B52] uppercase tracking-[0.2em]", children: "Application" }), _jsx("h2", { className: "text-3xl font-semibold mt-2", children: challengeTitle })] }), _jsxs("div", { className: "min-h-[200px]", children: [step === 1 && (_jsxs(motion.div, { initial: { opacity: 0, x: 10 }, animate: { opacity: 1, x: 0 }, children: [_jsx("p", { className: "text-[#1C1C1E]/60 mb-6", children: "Confirm the skills you're using for this challenge submission." }), _jsx("div", { className: "flex flex-wrap gap-3", children: ['React', 'TypeScript', 'Tailwind', 'System Design'].map(skill => (_jsxs("div", { className: "px-5 py-2 bg-[#E4E5E7] rounded-full text-sm font-semibold flex items-center gap-2", children: [_jsx(Check, { size: 14, className: "text-green-600" }), " ", skill] }, skill))) })] })), step === 2 && (_jsxs(motion.div, { initial: { opacity: 0, x: 10 }, animate: { opacity: 1, x: 0 }, children: [_jsx("p", { className: "text-[#1C1C1E]/60 mb-6", children: "Attach your solution link or upload relevant documentation." }), _jsxs("div", { className: "border-2 border-dashed border-[#E4E5E7] rounded-3xl p-10 flex flex-col items-center justify-center text-center", children: [_jsx("div", { className: "w-12 h-12 bg-[#FF6B52]/10 rounded-full flex items-center justify-center text-[#FF6B52] mb-4", children: _jsx(ShieldCheck, { size: 24 }) }), _jsx("p", { className: "font-bold text-sm", children: "Drop your files here" }), _jsx("p", { className: "text-xs text-[#1C1C1E]/40 mt-1", children: "or click to browse from computer" })] })] })), step === 3 && (_jsxs(motion.div, { initial: { opacity: 0, x: 10 }, animate: { opacity: 1, x: 0 }, children: [_jsx("p", { className: "text-[#1C1C1E]/60 mb-6", children: "Would you like to attach a personalized video proof (Recommended)?" }), _jsxs("div", { className: "flex gap-4", children: [_jsxs("div", { className: "flex-1 border border-[#FF6B52] bg-[#FF6B52]/5 rounded-3xl p-6 cursor-pointer hover:bg-[#FF6B52]/10 transition-colors", children: [_jsx("h4", { className: "font-bold text-[#FF6B52]", children: "Existing Proof" }), _jsx("p", { className: "text-xs text-[#FF6B52]/60 mt-1", children: "Found: 'React Performance Explainer'" })] }), _jsxs("div", { className: "flex-1 border border-[#E4E5E7] rounded-3xl p-6 cursor-pointer hover:bg-[#EAEBEC] transition-colors", children: [_jsx("h4", { className: "font-bold", children: "Skip Proof" }), _jsx("p", { className: "text-xs text-[#1C1C1E]/40 mt-1", children: "Submit without video" })] })] })] }))] }), _jsx("div", { className: "mt-12 flex justify-end", children: _jsxs("button", { onClick: handleNext, disabled: isSubmitting, className: "bg-[#1C1C1E] text-white px-10 py-5 rounded-full font-bold shadow-lg hover:translate-x-1 transition-all flex items-center gap-3 disabled:opacity-50", children: [isSubmitting ? 'Submitting...' : step === 3 ? 'Finalize Submission' : 'Continue', !isSubmitting && _jsx(ArrowRight, { size: 20 })] }) })] })) : (_jsxs("div", { className: "text-center py-10", children: [_jsx(motion.div, { initial: { scale: 0 }, animate: { scale: 1 }, className: "w-24 h-24 bg-green-500 rounded-full mx-auto flex items-center justify-center text-white mb-8 shadow-lg shadow-green-500/20", children: _jsx(Check, { size: 48, strokeWidth: 3 }) }), _jsx("h2", { className: "text-4xl font-semibold mb-4", children: "Boom! Submitted." }), _jsxs("p", { className: "text-[#1C1C1E]/60 max-w-sm mx-auto mb-10", children: ["Your solution and video proof are now being evaluated by our ", _jsx("strong", { children: "Proof Analysis Engine" }), "."] }), _jsxs("div", { className: "bg-[#E4E5E7]/50 rounded-3xl p-6 flex items-center justify-between mb-8 max-w-md mx-auto", children: [_jsxs("div", { className: "flex items-center gap-3", children: [_jsx("div", { className: "bg-[#1C1C1E] w-8 h-8 rounded-full flex items-center justify-center text-white", children: _jsx(Zap, { size: 16 }) }), _jsxs("div", { className: "text-left", children: [_jsx("p", { className: "text-[10px] font-bold text-[#1C1C1E]/30 uppercase tracking-widest", children: "Expected Result" }), _jsx("p", { className: "text-sm font-bold", children: "~15 minutes" })] })] }), _jsx(Trophy, { size: 20, className: "text-[#1C1C1E]/20" })] }), _jsx("button", { onClick: onClose, className: "bg-white border border-[#E4E5E7] px-8 py-4 rounded-full font-bold shadow-soft hover:bg-[#EAEBEC] transition-all", children: "Back to Dashboard" })] })) })] })] })) }));
}
